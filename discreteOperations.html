<!DOCTYPE html>
<html>
<head>
  <title>Set Operations</title>
  <style>
    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }
    .btn {
      margin: 5px;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 4px;
    }
    .result {
      margin-top: 20px;
      max-height: 200px;
      overflow-y: auto;
      border: 1px solid #ccc;
      padding: 10px;
      text-align: left;
    }
    .copy-btn {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Set Operations</h1>
    <div id="inputFields">
      <label for="set1">Set 1:</label>
      <input type="text" class="set-input" id="set1" placeholder="Enter numbers separated by commas">
      <br>
    </div>
    <button class="btn" onclick="addInputField()">Add Set</button>
    <br>
    <button class="btn" onclick="performUnion()">Union</button>
    <button class="btn" onclick="performIntersection()">Intersection</button>
    <button class="btn" onclick="performOR()">OR</button>
    <button class="btn" onclick="performXOR()">XOR</button>
    <div class="result" id="result"></div>
    <button class="btn copy-btn" onclick="copyOutput()">Copy</button>
  </div>

  <script>
    let inputCount = 1;

    function addInputField() {
      inputCount++;
      const inputFields = document.getElementById('inputFields');
      const newInputField = document.createElement('div');
      newInputField.innerHTML = `<label for="set${inputCount}">Set ${inputCount}:</label>
                                  <input type="text" class="set-input" id="set${inputCount}" placeholder="Enter numbers separated by commas">
                                  <br>`;
      inputFields.appendChild(newInputField);
    }

    function getSetValues() {
      const setValues = [];
      const inputElements = document.getElementsByClassName('set-input');
      for (let i = 0; i < inputElements.length; i++) {
        const inputSet = inputElements[i].value.split(',').map(Number);
        setValues.push(inputSet);
      }
      return setValues;
    }

    function performUnion() {
      const setValues = getSetValues();
      const result = Array.from(new Set(setValues.flat()));
      displayResult("Union", result);
    }

    function performIntersection() {
      const setValues = getSetValues();
      const result = setValues.reduce((a, b) => a.filter(value => b.includes(value)));
      displayResult("Intersection", result);
    }

    function performOR() {
      const setValues = getSetValues();
      const result = setValues.reduce((a, b) => a.concat(b.filter(value => !a.includes(value))));
      displayResult("OR", result);
    }

    function performXOR() {
      const setValues = getSetValues();
      const result = setValues.reduce((a, b) => a.filter(value => !b.includes(value)).concat(b.filter(value => !a.includes(value))));
      displayResult("XOR", result);
    }

    function displayResult(operation, result) {
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = `<strong>${operation}:</strong><br>${result.join(',')}`;
    }

    function copyOutput() {
      const resultDiv = document.getElementById('result');
      const range = document.createRange();
      range.selectNode(resultDiv);
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      document.execCommand('copy');
      window.getSelection().removeAllRanges();
      alert("Output copied to clipboard!");
    }
  </script>
</body>
</html>
